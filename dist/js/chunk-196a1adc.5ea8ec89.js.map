{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/_parse-int.js","webpack:///./src/views/Hgoods.vue?5ed9","webpack:///./node_modules/core-js/library/modules/es6.parse-int.js","webpack:///./node_modules/core-js/library/modules/_string-trim.js","webpack:///./node_modules/core-js/library/fn/parse-int.js","webpack:///./src/assets/logo.png","webpack:///./src/views/Hgoods.vue?faa9","webpack:///src/views/Hgoods.vue","webpack:///./src/views/Hgoods.vue?a3b8","webpack:///./src/views/Hgoods.vue","webpack:///./node_modules/core-js/library/modules/_string-ws.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/parse-int.js"],"names":["$parseInt","__webpack_require__","parseInt","$trim","trim","ws","hex","module","exports","str","radix","string","String","test","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Hgoods_vue_vue_type_style_index_0_id_03b69165_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Hgoods_vue_vue_type_style_index_0_id_03b69165_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","$export","G","F","defined","fails","spaces","space","non","ltrim","RegExp","rtrim","exporter","KEY","exec","ALIAS","exp","FORCE","fn","P","TYPE","replace","p","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","_s","name","score","_l","item","index","key","attrs","src","img","alt","ref","refInFor","Price","_e","title","type","value","min","max","on","change","$event","getnum","click","staticRenderFns","Hgoodsvue_type_script_lang_js_","components","data","userId","objectId","show","goods","allShopArr","userShopArr","arr","period","created","getGoodInfo","getMemberInfo","getUserShop","methods","e","parse_int_default","target","console","log","concat","$refs","inpNum","Math","floor","_this","Bmob","Query","find","then","res","i","map","push","length","_getGoodInfo","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","api","sent","stop","apply","arguments","_getMemberInfo2","_callee2","user","_context2","filter","JSON","parse","localStorage","getItem","price","_this2","flag","alert","usershop","indexs","num","get","set","save","views_Hgoodsvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-196a1adc.5ea8ec89.js","sourcesContent":["var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hgoods.vue?vue&type=style&index=0&id=03b69165&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hgoods.vue?vue&type=style&index=0&id=03b69165&scoped=true&lang=css&\"","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","require('../modules/es6.parse-int');\nmodule.exports = require('../modules/_core').parseInt;\n","module.exports = __webpack_public_path__ + \"img/logo.c1548184.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"a_inner\"},[_c('div',{staticClass:\"bg\"}),_vm._m(0),_c('div',{staticClass:\"a_banner\"},[_c('div',{staticClass:\"a_user\"},[_c('p',[_vm._v(\"昵称：\"+_vm._s(_vm.name))]),_c('p',[_vm._v(\"积分：\"+_vm._s(_vm.score))])]),_c('div',{staticClass:\"a_lo_img\"})]),_c('div',{staticClass:\"a_line\"},[_vm._v(\"超值兑换\")]),_c('div',{staticClass:\"a_goods\"},_vm._l((_vm.goods),function(item,index){return _c('div',{key:index,staticClass:\"a_goods-item\"},[_c('img',{attrs:{\"src\":item.img,\"alt\":\"\"}}),_c('div',{staticClass:\"a_goods-text\"},[_c('p',{ref:\"score\",refInFor:true,staticClass:\"a_item-jifen\"},[(_vm.score>=item.Price)?_c('span',{staticClass:\"a_jifen\"},[_vm._v(_vm._s(item.Price))]):_c('span',{staticClass:\"a_no_jifen\"},[_vm._v(_vm._s(item.Price))]),_c('span',{staticClass:\"a_jifen-text\"},[_vm._v(\"积分\")]),(_vm.score<item.Price)?_c('span',{staticClass:\"a_tips\"},[_vm._v(\"不可兑换\")]):_vm._e()]),_c('p',{staticClass:\"a_item-title\"},[_vm._v(_vm._s(item.title))]),_c('input',{ref:\"inpNum\",refInFor:true,staticClass:\"a_number\",attrs:{\"type\":\"number\",\"value\":\"1\",\"min\":\"1\",\"max\":_vm.score/item.Price},on:{\"change\":function($event){return _vm.getnum(index,$event)}}}),(_vm.score<item.Price)?_c('button',{staticClass:\"a_btn a_no_btn\"},[_vm._v(\"立即兑换\")]):_c('button',{staticClass:\"a_btn\",on:{\"click\":function($event){return _vm.click(item.Price,index)}}},[_vm._v(\" 立即兑换\")])])])}),0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"a_headBox\"},[_c('div',{staticClass:\"a_headBox_box\"},[_c('img',{attrs:{\"src\":require(\"../assets/logo.png\"),\"alt\":\"\"}})])])}]\n\nexport { render, staticRenderFns }","<template>\r\n<div class='a_inner'>\r\n  <div class=\"bg\"></div>\r\n  <!-- 头部logo图 -->\r\n  <div class=\"a_headBox\">\r\n    <div class=\"a_headBox_box\">\r\n      <img src=\"../assets/logo.png\" alt=\"\">\r\n      <!-- <router-link to=\"/shou\"><button class=\"a_goback\">返回会员信息</button></router-link> -->\r\n    </div>\r\n  </div>\r\n  <!-- 用户状态信息+banner图 -->\r\n  <div class=\"a_banner\">    \r\n    <div class=\"a_user\">\r\n        <p>昵称：{{name}}</p>\r\n        <p>积分：{{score}}</p>\r\n      </div>\r\n    <div class=\"a_lo_img\"></div>\r\n  </div>\r\n  <!-- 超值兑换 -->\r\n  <div class=\"a_line\">超值兑换</div>\r\n  <!-- 商品 -->\r\n  <div class=\"a_goods\">\r\n    <div v-for=\"(item,index) in goods\" :key=\"index\" class=\"a_goods-item\">\r\n      <!-- 商品图片 -->\r\n      <img :src=\"item.img\" alt=\"\">\r\n      <!-- 商品信息 -->\r\n      <div class=\"a_goods-text\">\r\n        <p class=\"a_item-jifen\" ref=\"score\">\r\n          <span v-if=\"score>=item.Price\" class=\"a_jifen\">{{item.Price}}</span>\r\n          <span v-else class=\"a_no_jifen\">{{item.Price}}</span>\r\n          <span class=\"a_jifen-text\">积分</span>\r\n          <span v-if=\"score<item.Price\" class=\"a_tips\">不可兑换</span>\r\n        </p>\r\n        <p class=\"a_item-title\">{{item.title}}</p>\r\n          <!-- <input class=\"a_number\" type=\"number\" value=\"1\" min=\"1\" max=\"999999\" v-model=\"period\" ref=\"inpNum\"/> -->\r\n          <input class=\"a_number\" type=\"number\" @change=\"getnum(index,$event)\" value=\"1\" min=\"1\" :max=\"score/item.Price\" ref=\"inpNum\"/>\r\n          <button v-if=\"score<item.Price\" class=\"a_btn a_no_btn\" >立即兑换</button>\r\n          <button v-else @click=\"click(item.Price,index)\" class=\"a_btn\"> 立即兑换</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getMemberInfo,\r\n  getGoodsInfo,\r\n  resetMemberInfo,\r\n  updateGoodsInfo,\r\n  everyUserShop\r\n} from \"../api\";\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      name: null,\r\n      score: 0,\r\n      userId: \"\",\r\n      objectId: \"\",\r\n      show: false,\r\n      goods: [],\r\n      allShopArr: [],\r\n      userShopArr: [],\r\n      arr: [],\r\n      period:0\r\n    };\r\n  },\r\n\r\n  created() {\r\n    // 初始化数据\r\n    this.getGoodInfo();\r\n    this.getMemberInfo();\r\n    this.getUserShop();\r\n  },\r\n  // watch: {\r\n  //   period(newVal){\r\n  //     if(newVal<0){\r\n  //       this.period = 1;\r\n  //     }\r\n  //   }\r\n  // },\r\n  methods: {\r\n    getnum(index,e){\r\n      var value = parseInt(e.target.value)\r\n      console.log(value,`${value}`=='NaN')\r\n      if((value<=0)||`${value}`=='NaN'){\r\n        this.$refs.inpNum[index].value = 1\r\n      }else if (value >= Math.floor(this.score / this.goods[index].Price)) {\r\n        this.$refs.inpNum[index].value = Math.floor(\r\n          this.score / this.goods[index].Price\r\n        );\r\n      };\r\n    },\r\n    getUserShop() {\r\n      Bmob.Query(\"usershop\")\r\n        .find()\r\n        .then(res => {\r\n          this.allShopArr = res;\r\n          this.allShopArr.map((item, index) => {\r\n            if (item.userId == this.userId) {\r\n              this.userShopArr.push(this.allShopArr[index]);\r\n            }\r\n          });\r\n          if (this.userShopArr.length == 0) {\r\n            this.getUserShop();\r\n          }\r\n          for (var i in this.userShopArr) {\r\n            this.arr.push(this.userShopArr[i]);\r\n          }\r\n        });\r\n    },\r\n    async getGoodInfo() {\r\n      let arr = await getGoodsInfo();\r\n      this.goods = arr;\r\n    },\r\n    async getMemberInfo() {\r\n      let arr = await getMemberInfo();\r\n      let user = arr.filter(\r\n        item => item.name == JSON.parse(localStorage.getItem(\"user\"))\r\n      )[0];\r\n      this.objectId = user.objectId;\r\n      this.name = user.name;\r\n      this.score = user.score;\r\n      this.userId = user.userId;\r\n    },\r\n    click(price, index) {\r\n      var flag = true;\r\n      if (this.score >= price) {\r\n        alert(\"兑换成功\");\r\n        this.score -= price*this.$refs.inpNum[index].value;\r\n        resetMemberInfo(this.objectId, \"score\", this.score);\r\n        var usershop = Bmob.Query(\"usershop\");\r\n        this.userShopArr.map((item, indexs) => {\r\n          if (this.userShopArr[indexs].title == this.goods[index].title) {\r\n            flag = false;\r\n            this.userShopArr[indexs].num += parseInt(\r\n              this.$refs.inpNum[index].value\r\n            );\r\n            usershop.get(this.userShopArr[indexs].objectId).then(res => {\r\n              res.set(\"num\", this.userShopArr[indexs].num);\r\n              res.save();\r\n            });\r\n            return false;\r\n          }\r\n        });\r\n        if (flag) {\r\n          usershop.set(\"title\", this.goods[index].title);\r\n          usershop.set(\"img\", this.goods[index].img);\r\n          usershop.set(\"Price\", parseInt(this.goods[index].Price));\r\n          usershop.set(\"num\", 1);\r\n          usershop.set(\"userId\", parseInt(this.userId));\r\n          usershop.save().then(res => {\r\n            console.log(res);\r\n            this.arr.push({\r\n              objectId: res.objectId,\r\n              title: this.goods[index].title,\r\n              num: 1,\r\n              Price: parseInt(this.goods[index].Price)\r\n            });\r\n            // console.log(this.arr[this.arr.length-1].title,\"--------\");\r\n            this.userShopArr = this.arr;\r\n            // console.log(this.userShopArr[this.userShopArr.length-1],\"--------\");\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.a_inner {\r\n  max-width: 90%;\r\n  margin: 0 auto;\r\n}\r\n.bg {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: url(../assets/bg1.jpg) center no-repeat;\r\n  background-size: cover;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: -1;\r\n}\r\n/* 头部logo */\r\n.a_headBox {\r\n  width: 100%;\r\n  height: 80px;\r\n  box-sizing: border-box;\r\n}\r\n.a_headBox_box {\r\n  max-width: 1248px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.a_goback {\r\n  float: right;\r\n  padding: 5px;\r\n  border: 1px solid #f1f1f1;\r\n  background-color: #f1f1f1;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n/* banner大盒子 */\r\n.a_banner {\r\n  max-width: 1248px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  box-shadow: 0 0 32px rgba(225, 225, 225, 0.6);\r\n  transform: translateY(-1px);\r\n}\r\n/* banner用户信息部分 */\r\n.a_user {\r\n  width: 10%;\r\n  padding: 20px 10px 20px 20px;\r\n  line-height: 30px;\r\n  font-size: 12px;\r\n  background: #f5f5f5;\r\n}\r\n/* banner背景图 */\r\n.a_lo_img {\r\n  flex: 1;\r\n  width: 100%;\r\n  height: 360px;\r\n  background: url(../assets/bgLogo.png) center no-repeat;\r\n  background-size: 100% 100%;\r\n}\r\n/* 超值兑换标题 */\r\n.a_line {\r\n  position: relative;\r\n  padding: 20px 0;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  color: #ddd;\r\n}\r\n/* 超值兑换标题左边直线 */\r\n.a_line::before {\r\n  display: block;\r\n  position: absolute;\r\n  top: 28px;\r\n  width: 44%;\r\n  content: \"\";\r\n  border-top: 1px solid #ededed;\r\n}\r\n/* 超值兑换标题右边直线 */\r\n.a_line::after {\r\n  display: block;\r\n  position: absolute;\r\n  top: 28px;\r\n  right: 0;\r\n  width: 44%;\r\n  content: \"\";\r\n  border-top: 1px solid #ededed;\r\n}\r\n/* 商品大盒子 */\r\n.a_goods {\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n}\r\n/* 每个商品div */\r\n.a_goods-item {\r\n  width: 210px;\r\n  margin: 10px 0;\r\n  background: #fff;\r\n  padding: 20px;\r\n}\r\n.a_goods-item:hover {\r\n  box-shadow: 0 1px 3px rgba(225, 225, 225, 0.7),\r\n    0 16px 32px -4px rgba(225, 225, 225, 0.6);\r\n  transform: translateY(-1px);\r\n}\r\n/* 每个商品的图片 */\r\n.a_goods-item img {\r\n  width: 100%;\r\n  height: 220px;\r\n  cursor: pointer;\r\n  border: 1px solid #eee;\r\n}\r\n/* 每个商品盒子的下半部分 */\r\n.a_goods-text {\r\n  width: 100%;\r\n}\r\n/* 积分数字样式 */\r\n.a_goods-text p:nth-child(1) {\r\n  margin: 5px;\r\n  font-weight: 700;\r\n  font-size: 20px;\r\n}\r\n/* 积分数字默认样式 */\r\n.a_jifen {\r\n  color: red;\r\n}\r\n/* 积分不足样式 */\r\n.a_no_jifen {\r\n  color: #ccc;\r\n}\r\n/* “积分”字体样式 */\r\n.a_jifen-text {\r\n  font-size: 12px;\r\n  color: #aaa;\r\n  margin-left: 5px;\r\n}\r\n/* “不可兑换”样式 */\r\n.a_tips {\r\n  font-size: 12px;\r\n  float: right;\r\n  background: #ccc;\r\n  color: #fff;\r\n  border-radius: 2px;\r\n  padding: 2px 5px;\r\n}\r\n/* 商品标题 */\r\n.a_item-title {\r\n  width: 100%;\r\n  height: 40px;\r\n  margin: 8px 0;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  font: 14px tahoma, arial, Microsoft YaHei, Hiragino Sans GB, \"\\u5b8b\\u4f53\",\r\n    sans-serif;\r\n  cursor: pointer;\r\n}\r\n.a_item-title:hover {\r\n  color: #e4393c;\r\n}\r\n.a_item_box {\r\n  width: 100%;\r\n  height: 50px;\r\n}\r\n.a_number {\r\n  width: 30%;\r\n  height: 24px;\r\n  outline: none;\r\n  text-align: center;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n}\r\n/* “立即兑换”按钮 */\r\n.a_btn {\r\n  width: 90px;\r\n  height: 29px;\r\n  color: #fff;\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  background: #46c95e;\r\n  border: 0;\r\n  border-radius: 5px;\r\n  outline: none;\r\n  float: right;\r\n  cursor: pointer;\r\n}\r\n/* 积分不足时，“立即兑换”按钮样式 */\r\n.a_no_btn {\r\n  background: #ccc;\r\n  border: 1px solid #ccc;\r\n  cursor: auto;\r\n}\r\nbutton:hover {\r\n  opacity: 0.8;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hgoods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hgoods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Hgoods.vue?vue&type=template&id=03b69165&scoped=true&\"\nimport script from \"./Hgoods.vue?vue&type=script&lang=js&\"\nexport * from \"./Hgoods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Hgoods.vue?vue&type=style&index=0&id=03b69165&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03b69165\",\n  null\n  \n)\n\nexport default component.exports","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","module.exports = require(\"core-js/library/fn/parse-int\");"],"sourceRoot":""}